
---


## API 란?

 API 는 두 컴퓨터 프로그램이 인터넷을 통해 정보를 안전하게 교환하기 위해 사용하는 인터페이스 이다. 즉 클라이언트와 서버사이의 통신 방법이다.


## REST API란?

 REST 아키텍쳐 스타일의 디자인 원칙을 준수하는 api이다. 

---

## REST 의 구성

- 자원 - URI
- 행위 - HTTP method
- 표현

## REST 의 특징

### 1. 균일한 인터페이스

 요청이 어디서 오든지 무관하게 동일한 리소스에 대한 모든 api 요청은 동일하게 보여야한다.

### 2. 클라이언트 - 서버 디커플링

 REST API 디자인에서 클라이언트와 서버 어플리케이션은 서로간에 완전히 독립적이어야 한다. 클라이언트 애플리케이션이 알아햐 하는 유일한 정보는 유청된 리소스의 URI 이다. 또한 서버 어플리케이션은 HTTP를 통해 요청된 데이터를 전달하는 것 말고는 클라이언트에게 영향을 주지 않아야 한다.

### 3. Stateless

 REST API는 무상태성이어야 한다. 즉 클라이언트의 이전 요청 상태정보를 저장하지 않아야한다. 따라서 클라이언트가 서버에 요청을 보낼때 필요한 모든 정보는 요청 자체에 포함되어야 한다.

### 4. 캐싱 가능성

 가능하면 리소스를 클라이언트 또는 서버측에 캐싱할 수 있어야한다. 또한 서버의 응답에는 전달된 리소스에 대해 캐싱이 허용되는지 여부에 대한 정보도 포함되어 있어야 한다.


### 5. 계층구조 아키텍쳐

 REST API에서는 호출과 응답이 서로 다른 계층을 통과한다. 
 
- Client 계층
	- 사용자 또는 애플리케이션에서 REST API 에 대한 요청을 생성하고 보내는 역할을 한다.
- Presentation Layer
	- 클라이언트와 서버간의 데이터 표현과 상호작용을 관리한다.,
- Application Layer
	- 비지니스 로직을 처리하고 요청된 작업을 수행하는 역할을 한다.
- Data Layer
	- 데이터 베이스와 상호작용하며 데이터의 영속성과 저장을 관리한다.
- InfraStructure Layer
	 - 서버, 로드 밸런스 등 API를 실행하고 배포하는데 필요한 기반 시설들을 관리하는 계층이다.

---

## REST API 디자인

 REST API 설계시 가장 중요한 부분 두가지는 아래와 같다.

##### URI는 정보의 자원을 표현해야 한다.

 - 즉 자원의 이름을 표현하는데 중심을 둬야하며 DELETE 등 동사가 들어가서는 안된다.
 - 또한 Slash 를 이용해 계층관계를 표현해야한다.
 - 주의할 점으로 마지막에 Slash 를 넣지 않는다.
 - _ 는 URI 에 사용하지 않고 대신 - 를 사용한다.
 - URL 경로를 표현할 때 소문자를 이용하자
 - 파일 확장자는 경로에 포함시키지 않는다. 대신 Accept header 를 사용하자
 
##### 자원에 대한 행위는 HTTP method로 표현한다. (GET, POST, PUT, DELETE)

- GET 
	- get method 를 이용해 데이터를 조회할 수 있도록 설계한다.
- POST
	- post method를 이용해 데이터를 생성할 수 있도록 한다.
- PUT
	- put method 를 이용해 데이터를 update 하도록 한다.
- DELETE
	- delete 를 이용해 데이터를 삭제한다.


##### Collection 과 Document

 collection 과 document는 자원을 표현한다. document 는 단순 문서 또는 객체를 의미하며 컬렉션은 document 의 집합이라고 할 수 있다. 

``` URI
http://localhost:8080/members/1
```

 여기서 members 는 member 객체를 모아둔 collection이라고 할 수 있으며 1 은 특정 멤버의 아이디를 의미한다고 가정하면 이는 document로 볼 수 있다.