
---


## 이진 탐색 트리

 모든 노드의 왼쪽 서브 트리는 해당 노드의 값보다 작은 값들만 가지며 오른 쪽 서브 트리는 해당 노드의 값보다 큰 값만 가진다.
  또한 자녀 노드는 최대 두개까지 가질 수 있다.


## 만약 자식 노드를 3개 까지 가질 수 있다면? (3차 B tree)

 이진 탐색 트리는 해당 노드기준 왼쪽에 작은 값 오른쪽에 큰값을 가지도록 설계되어 있다.  즉 부모 노드 값 하나를 기준으로 삼아 이분화 시킨 것이다. 
  자식 노드를 3개로 만들기 위해서는 범위의 구분자를 2개(k1, k2)로 하면 된다. 즉 첫번째 자식 노드에는 k1보다 적은 값, 두번째 자식 노드에는 k1보다는 크고 k2보다는 적은 값, 3번째 자식 노드에는 k2 보다 큰 값을 넣으면 된다.

- ? < k1
- k1 < ? < k2
- k2 < ?

 즉 이진 탐색트리를 응용하여 자식 노드의 개수를 늘이기 위해서는 부모 노드에 하나이상의 키값을 저장해야 한다. 이때 key 값을 오름 차순으로 정렬해서 저장해야 한다. 이렇게 해야 정렬순서에 따라 자식 노드들의 key 값의 범위가 결정된다. 
  이러한 형식으로 동작하는 트리를 b-tree라고 한다.

## B - tree


 앞서 말한 b tree의 특징을 정리해보자

1. 부모 노드는 키값을 1개 이상 보유한다.
2. 키값을 저장할 때에는 키값들을 정렬한 상태로 저장한다.
3. 이러한 키값으로 자식 노드 값들의 범위가 결정된다.
4. 이러한 방식을 사용하면 자식 노드의 최대 개수를 입맛에 맞게 설정할 수 있다.

 이러한 특징을 바탕으로 b tree는 이진 탐색 트리를 일반화한 트리라고 할 수 있다.

## B tree의 중요한 4가지 parameter

 - 각 노드의 최대 자녀 노드의 수 M (기준 Parameter)
	 - 최대 M 개의 자식을 가질 수 있는 b tree 를 M 차 b tree라고 한다.

- 각 노드가 가질 수 있는 키의 최대 수 M-1
	- 이는 최대 자녀의 수에 의해 결정된다.

- 각 노드의 최소 자녀 노드 수 M/2 의 올림 
	- M = 3 -> m/2 + 1 2
	- Root node 나 Leaf node에서는 제외
		- Leaf node : 자녀 노드가 없는 노드
		- Root node : 출발점이 되는 노드
		- 
- 각 노드의 최소 Key 수 M/2 올림 -1
	- Root node 제외


## B tree 의 특징

- internal node의 key 수가 x개 라면 자녀 노드의 수는 언제나 x+1개이다.

- 노드가 최소 하나의 키는 가지기 때문에 몇 차 B tree인지와 상관없이 internal node는 최소 두개의 자녀를 가진다.

- M 이 정해지면 Root 노드를 제외하고 internal node는 최소 m/2 올림 개의 자녀 노드를 가질 수 있게 된다.

- 즉 M 값이 정해지기 전에는 internal node는 최소 2개의 노드를 가지지만 M 값이 정해지면 M/2 의 올림한 값과 같은 노드의 개수를 가지게 된다.

## B tree insert Data

- data의 조회는 Root node로 부터 시작한다.
- data의 추가는 항상 leaf 노드에서 발생한다.
- 노드가 넘치면 가운데 key를 기준으로 좌우 Key들은 분할하고 가운데 Key는 승진한다.
	- 노드가 넘친다
		- 하나의 노드에서 m-1 개 이상의 키를 보유하고 있다 라는 의미
		- 3차 b tree에서 1,2,15 가 들어올 시  2는 승진 1은 2의 왼쪽 노드, 15는 2의 오른 쪽 노드에 들어간다.

		